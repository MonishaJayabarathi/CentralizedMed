variables:
  # This is a place for you to define variables you can use
  # later in the script by referring to the variable like so:
  #   ${EXAMPLE_VARIABLE}
  EXAMPLE_VARIABLE: "Example"
  

image: maven:latest


stages:
  - build
  - test
  - deploy

buildStep:
  image: maven:3-jdk-8
  stage: build
  tags:
    - dalfcs_docker_kvm
  artifacts:
    paths:
    - target
  script:
    mvn clean install
  only:
    - cicd_kazi

testStep:
  image: maven:3-jdk-8
  stage: test
  tags:
    - dalfcs_docker_kvm
  artifacts:
    when: always
    reports:
      junit:
        - target/surefire-reports/TEST-*.xml
  script:
    mvn verify
  only:
    - cicd_kazi

deployStep:
  stage: deploy
  tags:
    - dalfcs_docker_kvm
  artifacts:
    paths:
      - group5/target
      - group5/src/main/conf
  script:
    - echo "hello"
  only:
    - cicd_kazi